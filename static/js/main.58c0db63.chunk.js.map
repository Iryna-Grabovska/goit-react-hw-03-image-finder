{"version":3,"sources":["Searchbar/Searchbar.module.css","ImageGallery/ImageGallery.module.css","ImageInfo/ImageInfo.module.css","Modal/Modal.module.css","Button/Button.module.css","Searchbar/Searchbar.js","ImageGallery/ImageGallery.js","Button/Button.js","Modal/Modal.js","ImageInfo/ImageInfo.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleQuerySubmit","e","preventDefault","trim","props","onSubmit","toast","error","className","s","Searchbar__header","SearchForm","this","type","SearchFormButton","SearchFormButton__label","SearchForm__input","name","onChange","placeholder","Component","ImageGallery","showModal","photo","map","id","tags","webformatURL","largeImageURL","ImageGalleryItem","datalarge","onClick","onImgClick","ImageGalleryItemImage","src","alt","Button","BtnLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","console","log","window","addEventListener","removeEventListener","createPortal","Modal__backdrop","Modal__content","modalUrl","Status","ImageInfo","reject","status","page","loadMore","fetch","then","respons","json","newPhoto","hits","catch","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","onGalleryCardClick","url","getAttribute","prevProps","prevState","status__message","length","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.58c0db63.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar__header\":\"Searchbar_Searchbar__header__2R4BO\",\"SearchForm\":\"Searchbar_SearchForm__12jJV\",\"SearchFormButton\":\"Searchbar_SearchFormButton__EpxOi\",\"SearchFormButton__label\":\"Searchbar_SearchFormButton__label__1IC2k\",\"SearchForm__input\":\"Searchbar_SearchForm__input__W3dSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Y9pC\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1Lvot\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1Ryc3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status__message\":\"ImageInfo_status__message__1fQGR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__backdrop\":\"Modal_Modal__backdrop__hfb36\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BtnLoadMore\":\"Button_BtnLoadMore__1hWmC\",\"ButtonLoadMore\":\"Button_ButtonLoadMore__3UgiY\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n// import { ImSearch } from 'react-icons.in';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    query: '',\n  };\n  handleQueryChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n  };\n  handleQuerySubmit = e => {\n    e.preventDefault();\n    if (this.state.query.trim() === '') {\n      toast.error('enter the queryn');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar__header}>\n        <form className={s.SearchForm} onSubmit={this.handleQuerySubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButton__label}>Search</span>\n            {/* <ImSearch /> */}\n          </button>\n\n          <input\n            className={s.SearchForm__input}\n            type=\"text\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleQueryChange}\n            // autoComplete=\"off\"\n            // autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ImageGallery extends Component {\r\n  static propTypes = {\r\n    id: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    onImgClick: PropTypes.func,\r\n  };\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {this.props.photo.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n            <li\r\n              className={s.ImageGalleryItem}\r\n              key={id}\r\n              datalarge={largeImageURL}\r\n              onClick={this.props.onImgClick}\r\n            >\r\n              <img\r\n                className={s.ImageGalleryItemImage}\r\n                src={webformatURL}\r\n                alt={tags}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.BtnLoadMore} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    modalUrl: PropTypes.string,\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      console.log('backdrop', e.target);\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Modal__backdrop}>\r\n        <div className={s.Modal__content} onClick={this.handleBackdropClick}>\r\n          <img\r\n            src={this.props.modalUrl}\r\n            onClick={this.handleBackdropClick}\r\n            alt={this.props.tags}\r\n          />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport ImageGallery from 'ImageGallery';\nimport s from './ImageInfo.module.css';\nimport Button from 'Button';\nimport Modal from 'Modal';\n// import PropTypes from 'prop-types'\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class ImageInfo extends Component {\n  state = {\n    reject: 0,\n    photo: [],\n    error: null,\n    status: Status.IDLE,\n    page: 1,\n    showModal: false,\n    modalUrl: '',\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.query !== this.props.query) {\n      this.setState({ status: Status.PENDING });\n\n      fetch(\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&q=${this.props.query}&page=${this.state.page}&key=23459982-aeff0c389b47d03a141af0a17`,\n      )\n        .then(respons => {\n          return respons.json();\n        })\n        .then(photo =>\n          this.setState({\n            photo: [...photo.hits],\n            page: this.state.page + 1,\n\n            status: Status.RESOLVED,\n          }),\n        )\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n  }\n  loadMore = () => {\n    fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&q=${this.props.query}&page=${this.state.page}&key=23459982-aeff0c389b47d03a141af0a17`,\n    )\n      .then(respons => {\n        return respons.json();\n      })\n      .then(newPhoto =>\n        this.setState(({ photo }) => {\n          return {\n            photo: [...photo, ...newPhoto.hits],\n            page: this.state.page + 1,\n\n            status: Status.RESOLVED,\n          };\n        }),\n      )\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = modalUrl => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalUrl: modalUrl,\n    }));\n  };\n  onGalleryCardClick = e => {\n    const url = e.currentTarget.getAttribute('datalarge');\n    this.toggleModal(url);\n  };\n\n  render() {\n    const { photo, status } = this.state;\n\n    if (status === 'idle') {\n      return <div className={s.status__message}>Please enter your search </div>;\n    }\n    if (status === 'pending') {\n      return <div className={s.status__message}>loading...</div>;\n    }\n\n    if (photo.length === 0) {\n      return (\n        <div className={s.status__message}>Sorry we nothing found for you</div>\n      );\n    }\n    if (status === 'resolved') {\n      return (\n        <>\n          {this.state.showModal && (\n            <Modal onClose={this.toggleModal} modalUrl={this.state.modalUrl} />\n          )}\n          <ImageGallery photo={photo} onImgClick={this.onGalleryCardClick} />\n          {this.state.photo.length > 10 && <Button onClick={this.loadMore} />}\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport PropTypes from 'prop-types';\nimport Searchbar from 'Searchbar';\nimport ImageInfo from './ImageInfo';\nexport default class App extends Component {\n  static propTypes = {\n    handleFormSubmit: PropTypes.func,\n  };\n  state = {\n    query: '',\n    page: 1,\n  };\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageInfo query={this.state.query} />\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n","import 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}